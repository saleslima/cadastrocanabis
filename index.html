<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulário de Autorização para Cannabis Medicinal</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
</head>
<body>
    <div class="container">
        <h1>Formulário de Autorização para Cannabis Medicinal</h1>
        <form id="autorizacaoForm">
            <div class="form-group">
                <label for="nomePaciente">Nome do Paciente *</label>
                <input type="text" id="nomePaciente" name="nomePaciente" required>
            </div>

            <div class="form-row">
                <div class="form-group half">
                    <label for="rg">RG do Paciente *</label>
                    <input type="text" id="rg" name="rg" placeholder="00.000.000-0" required>
                </div>
                <div class="form-group half">
                    <label for="cpf">CPF do Paciente *</label>
                    <input type="text" id="cpf" name="cpf" placeholder="000.000.000-00" required>
                </div>
            </div>

            <div class="form-group">
                <label for="numProcesso">Nº do Processo *</label>
                <input type="text" id="numProcesso" name="numProcesso" required>
            </div>

            <div class="form-group">
                <label for="nomeMagistrado">Nome do Magistrado que Concedeu Autorização *</label>
                <input type="text" id="nomeMagistrado" name="nomeMagistrado" required>
            </div>

            <div class="form-row">
                <div class="form-group half">
                    <label for="dataDecisao">Data da Decisão *</label>
                    <input type="date" id="dataDecisao" name="dataDecisao" required>
                </div>
                <div class="form-group half">
                    <label for="prazoValidade">Prazo de Validade *</label>
                    <input type="date" id="prazoValidade" name="prazoValidade" required>
                </div>
            </div>

            <div class="form-group">
                <label for="tipoAutorizacao">Tipo de Autorização *</label>
                <select id="tipoAutorizacao" name="tipoAutorizacao" required>
                    <option value="">Selecione uma opção</option>
                    <option value="porte">Porte</option>
                    <option value="transporte">Transporte</option>
                    <option value="cultivo">Cultivo</option>
                    <option value="importacao">Importação</option>
                    <option value="producao">Produção</option>
                    <option value="outro">Outro</option>
                </select>
                <input type="text" id="outroTipoAutorizacao" name="outroTipoAutorizacao" placeholder="Especifique o tipo" style="display: none;">
            </div>

            <div class="form-row">
                <div class="form-group half">
                    <label for="quantidadePlanta">Quantidade de Plantas</label>
                    <input type="number" id="quantidadePlanta" name="quantidadePlanta" min="0">
                </div>
                <div class="form-group half">
                    <label for="quantidadeSementes">Quantidade de Sementes</label>
                    <input type="number" id="quantidadeSementes" name="quantidadeSementes" min="0">
                </div>
            </div>

            <div class="form-group">
                <button type="button" id="enderecosBtn" class="secondary-btn">Endereços Autorizados</button>
            </div>

            <div id="enderecosContainer" style="display: none;">
                <div class="form-group">
                    <label for="qtdEnderecos">Quantidade de Endereços:</label>
                    <div class="input-with-button">
                        <input type="number" id="qtdEnderecos" min="1" value="1">
                        <button type="button" id="confirmarQtdBtn" class="secondary-btn">Confirmar</button>
                    </div>
                </div>
                <div id="enderecosForm">
                    <!-- Os formulários de endereço serão adicionados aqui dinamicamente -->
                </div>
            </div>

            <div class="form-buttons">
                <button type="submit" class="primary-btn">Enviar</button>
                <button type="reset" class="secondary-btn">Limpar</button>
            </div>
        </form>
    </div>
    
    <!-- Template para endereço -->
    <template id="enderecoTemplate">
        <div class="endereco-form">
            <h3>Endereço #<span class="endereco-numero"></span></h3>
            <div class="form-row">
                <div class="form-group two-thirds">
                    <label for="cep">CEP *</label>
                    <div class="input-with-button">
                        <input type="text" class="cep-input" placeholder="00000-000" maxlength="9" required>
                        <button type="button" class="buscar-cep-btn secondary-btn">OK</button>
                    </div>
                </div>
            </div>
            <div class="form-row">
                <div class="form-group two-thirds">
                    <label for="rua">Rua *</label>
                    <input type="text" class="rua-input" required readonly>
                </div>
                <div class="form-group third">
                    <label for="numero">Número *</label>
                    <input type="text" class="numero-input" required>
                </div>
            </div>
            <div class="form-row">
                <div class="form-group half">
                    <label for="bairro">Bairro *</label>
                    <input type="text" class="bairro-input" required readonly>
                </div>
                <div class="form-group half">
                    <label for="cidade">Cidade *</label>
                    <input type="text" class="cidade-input" required readonly>
                </div>
            </div>
            <div class="form-row">
                <div class="form-group half">
                    <label for="estado">Estado *</label>
                    <input type="text" class="estado-input" required readonly>
                </div>
                <div class="form-group half">
                    <label for="tipoLocal">Tipo de Local *</label>
                    <input type="text" class="tipo-local-input" required>
                </div>
            </div>
        </div>
    </template>
    
    <script src="script.js"></script>
</body>
</html>